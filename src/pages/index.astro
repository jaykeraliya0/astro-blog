---
import BlogCard from "../components/BlogCard.astro";
import Layout from "../layouts/Layout.astro";

const posts = await Astro.glob("../pages/posts/*.md");
posts.sort((a, b) => {
  return (
    Number(new Date(b.frontmatter.date)) - Number(new Date(a.frontmatter.date))
  );
});
---

<Layout>
  {
    posts.map((post) => (
      <BlogCard
        title={post.frontmatter.title}
        image={post.frontmatter.image.url}
        alt={post.frontmatter.image.alt}
        date={post.frontmatter.date}
        author={post.frontmatter.author}
        description={post.frontmatter.description}
        url={post.url}
      />
    ))
  }
</Layout>
